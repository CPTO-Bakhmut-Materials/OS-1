### Shell Scripting - спеціальні вирази

#### Мета
Ознайомитися з спеціальними симоволами в bash

#### Лекція

Деякі символи інтерпретуються Bash не буквально. Замість цього вони виконують спеціальну інструкцію або мають альтернативне значення; їх називають «спеціальними символами» або «метасимволами».

Ось деякі з найбільш розповсюджених способів використання спеціальних символів:

* **Пробіл, Табуляція, Новий рядок (` `)**
    Використовуються як роздільники (whitespaces). Bash розбиває рядок на слова за допомогою пробілів. Перше слово завжди вважається командою, а решта — її аргументами.
    `rm -r folder_name` — тут пробіли вказують Bash, що `rm` — це програма, `-r` — прапорець (опція), а `folder_name` — об'єкт дії.

* **Знак долара (`$`) — Розширення (Expansion)**
    Вказує на те, що наступний за ним текст є назвою змінної або командою, яку треба виконати, а результат підставити на це місце.
    `echo "Я зайшов як $USER"` (виведе ваше ім'я) або `echo "Сьогодні $(date)"` (виконає команду `date` і вставить результат).

* **Одинарні лапки (`''`) — Суворе екранування**
    Усе, що знаходиться всередині одинарних лапок, сприймається як звичайний текст. Усі спеціальні символи всередині втрачають свою силу.
    `echo '$USER'` виведе буквально `$USER`, а не ваше ім'я.

* **Подвійні лапки (`""`) — Часткове екранування**
    Дозволяють розглядати групу слів як один аргумент (навіть якщо там є пробіли), але при цьому дозволяють працювати символу `$`.
    `echo "Сьогодні: $date"` — пробіл не розриває рядок, але змінна підставиться.

* **Зворотна коса риска (`\`) — Екранування символу**
    "Скасовує" спеціальне значення наступного символу. Це дозволяє використовувати спецсимволи як звичайний текст.
    `echo "Це коштує \$100"` — символ `\` каже Bash не шукати змінну `$1`, а просто вивести знак долара.

* **Решітка (`#`) — Коментар**
    Позначає початок коментаря. Усе, що написано після цього знака і до кінця рядка, ігнорується оболонкою.
    `apt update # Оновлення списку пакетів`.

* **Знак рівності (`=`) — Присвоєння**
    Використовується для запису даних у змінну. Важливо: навколо знака рівності не повинно бути пробілів.
    `MY_VAR="Привіт"`. Якщо написати `MY_VAR = "Привіт"`, Bash сприйме `MY_VAR` як команду, якої не існує.

* **Подвійні квадратні дужки (`[[ ]]`) — Тестування**
    Використовуються для перевірки умов (чи існує файл, чи рівні два рядки). Це розширена версія старої команди `[ ]`.
    `[[ -d "Music" ]] && echo "Папка є"` — перевіряє, чи є директорія "Music".

* **Знак оклику (`!`) — Логічне НЕ**
    Інвертує результат виконання. Перетворює "успіх" на "помилку" і навпаки.
    `[[ ! -f "key.txt" ]]` — умова буде істинною, якщо файл `key.txt` **відсутній**.

* **Перенаправлення (`>`, `>>`, `<`)**
    `>` створює файл і записує туди вивід команди (замінюючи старий вміст). `>>` додає в кінець файлу. `<` читає дані з файлу замість клавіатури.
    `ls > files_list.txt` (записати список файлів у документ).

* **Вертикальна риска (`|`) — Конвеєр (Pipe)**
    Бере вивід першої команди і миттєво передає його на вхід другій. Створює ланцюжок обробки даних.
    `grep "error" log.txt | wc -l` — знайти всі рядки зі словом "error" і одразу ж порахувати їхню кількість.

* **Крапка з комою (`;`) — Роздільник команд**
    Дозволяють виконувати кілька команд одна за одною незалежно від того, чи була успішною попередня.
    `clear; ls` — очистити екран і одразу показати список файлів.

* **Фігурні дужки (`{ }`) — Групування в поточному процесі**
    Об'єднує кілька команд в один блок. Вони виконуються в поточному вікні термінала.
    `{ date; whoami; } > info.txt` — записати дату та ім'я користувача в один файл за раз.

* **Круглі дужки (`( )`) — Групування в підоболонці**
    Команди виконуються в новому, ізольованому процесі. Зміни середовища всередині (наприклад, `cd`) не вплинуть на основний термінал.
    `(cd /tmp; touch temp_file)` — файл створиться в `/tmp`, але ви залишитесь у своїй початковій папці.

* **Подвійні круглі дужки (`(( ))`) — Арифметика**
    Дозволяють виконувати математичні операції та порівняння чисел у стилі мови програмування C.
    `(( x = 5 + 10 ))` або `if (( x > 10 ))`.

* **Долар з подвійними дужками (`$(( ))`) — Арифметичне розширення**
    Виконує математичну дію і повертає результат, щоб його можна було вивести або присвоїти.
    `echo "У мене $((2+2)) яблука"`.

* **Зірочка та знак питання (`*`, `?`) — Глобінг (Wildcards)**
    `*` замінює будь-яку кількість символів. `?` замінює рівно один будь-який символ.
    `ls *.pdf` (показати всі PDF-файли) або `ls file?.txt` (знайде `file1.txt`, але не `file10.txt`).

* **Тильда (`~`) — Домашній каталог**
    Короткий шлях до папки вашого користувача (`/home/username`).
    `cd ~/Documents`.

* **Амперсанд (`&`) — Фонове виконання**
    Якщо поставити його в кінці команди, вона запуститься "на фоні", дозволяючи далі використовувати термінал.
    `sleep 10 &`.